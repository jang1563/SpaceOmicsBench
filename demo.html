<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SpaceOmicsBench — Multi-Omics AI Benchmark</title>
<script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.7/dist/chart.umd.min.js"></script>
<style>
*,*::before,*::after{box-sizing:border-box;margin:0;padding:0}
:root{
  --bg:#060918;--bg2:#0c1029;--bg3:#111638;--bg4:#181e4a;
  --text:#e2e8f0;--text2:#94a3b8;--text3:#64748b;
  --border:#1e2650;--border2:#2a3568;
  --clinical:#f59e0b;--cfrna:#06b6d4;--proteomics:#ec4899;
  --metabolomics:#84cc16;--spatial:#f97316;--microbiome:#a78bfa;
  --multimodal:#fbbf24;--crosstissue:#2dd4bf;
  --calibration:#22c55e;--standard:#3b82f6;--advanced:#f59e0b;--frontier:#ef4444;
}
html{scroll-behavior:smooth}
body{
  background:var(--bg);color:var(--text);
  font-family:'SF Mono','Fira Code','Cascadia Code','JetBrains Mono',ui-monospace,monospace;
  line-height:1.6;overflow-x:hidden;
}
canvas#starfield{position:fixed;top:0;left:0;width:100%;height:100%;z-index:0;pointer-events:none;opacity:.4}
.wrap{position:relative;z-index:1;max-width:1320px;margin:0 auto;padding:0 24px}

/* ── HERO ── */
.hero{padding:100px 0 60px;text-align:center;position:relative}
.hero::before{
  content:'';position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);
  width:600px;height:600px;border-radius:50%;
  background:radial-gradient(circle,rgba(6,182,212,.06) 0%,transparent 70%);
  pointer-events:none;
}
.hero h1{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif;
  font-size:clamp(2.4rem,5vw,4.2rem);font-weight:800;letter-spacing:-.02em;
  background:linear-gradient(135deg,#e2e8f0 0%,#06b6d4 50%,#a78bfa 100%);
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;
  background-clip:text;
}
.hero .tagline{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif;
  font-size:clamp(1rem,2vw,1.25rem);color:var(--text2);margin:16px auto 0;max-width:680px;
  font-weight:400;line-height:1.7;
}
.stats-row{
  display:flex;justify-content:center;gap:12px;margin-top:48px;flex-wrap:wrap;
}
.stat-card{
  background:var(--bg2);border:1px solid var(--border);border-radius:12px;
  padding:20px 28px;min-width:150px;text-align:center;
  transition:border-color .3s,transform .3s;
}
.stat-card:hover{border-color:var(--border2);transform:translateY(-2px)}
.stat-val{
  font-size:2rem;font-weight:700;
  background:linear-gradient(135deg,var(--cfrna),var(--multimodal));
  -webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text;
}
.stat-label{font-size:.75rem;color:var(--text3);text-transform:uppercase;letter-spacing:.08em;margin-top:4px}

/* ── SECTIONS ── */
section{padding:60px 0}
.section-head{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif;
  font-size:1.5rem;font-weight:700;margin-bottom:8px;
  display:flex;align-items:center;gap:10px;
}
.section-head::before{
  content:'';display:inline-block;width:4px;height:24px;border-radius:2px;
  background:linear-gradient(180deg,var(--cfrna),var(--proteomics));
}
.section-sub{color:var(--text3);font-size:.85rem;margin-bottom:32px}

/* ── FILTER PILLS ── */
.filters{display:flex;flex-wrap:wrap;gap:8px;margin-bottom:24px}
.pill{
  padding:6px 16px;border-radius:20px;font-size:.75rem;cursor:pointer;
  border:1px solid var(--border);background:transparent;color:var(--text2);
  transition:all .25s;letter-spacing:.03em;
}
.pill:hover,.pill.active{background:var(--bg3);color:var(--text);border-color:var(--border2)}
.pill.active{box-shadow:0 0 12px rgba(6,182,212,.15)}
.pill[data-cat="Clinical"].active{border-color:var(--clinical);color:var(--clinical)}
.pill[data-cat="cfRNA"].active{border-color:var(--cfrna);color:var(--cfrna)}
.pill[data-cat="Proteomics"].active{border-color:var(--proteomics);color:var(--proteomics)}
.pill[data-cat="Metabolomics"].active{border-color:var(--metabolomics);color:var(--metabolomics)}
.pill[data-cat="Spatial"].active{border-color:var(--spatial);color:var(--spatial)}
.pill[data-cat="Microbiome"].active{border-color:var(--microbiome);color:var(--microbiome)}
.pill[data-cat="Multi-Modal"].active{border-color:var(--multimodal);color:var(--multimodal)}
.pill[data-cat="Cross-Tissue"].active{border-color:var(--crosstissue);color:var(--crosstissue)}

/* ── TABLE ── */
.table-wrap{overflow-x:auto;border:1px solid var(--border);border-radius:12px;background:var(--bg2)}
table{width:100%;border-collapse:collapse;font-size:.8rem;white-space:nowrap}
thead{background:var(--bg3)}
th{
  padding:12px 14px;text-align:left;font-weight:600;color:var(--text2);
  font-size:.7rem;text-transform:uppercase;letter-spacing:.06em;
  border-bottom:1px solid var(--border);position:sticky;top:0;background:var(--bg3);
}
th.num{text-align:right}
td{padding:10px 14px;border-bottom:1px solid var(--border)}
td.num{text-align:right;font-variant-numeric:tabular-nums}
tr{transition:background .2s}
tr:hover{background:rgba(6,182,212,.04)}
tr.supplementary{opacity:.65}
tr.supplementary td:first-child::after{content:' *';color:var(--frontier);font-size:.65rem}
.best{color:#22d3ee;font-weight:700}
.cat-badge{
  display:inline-block;padding:2px 8px;border-radius:4px;font-size:.65rem;
  font-weight:600;letter-spacing:.04em;
}
.tier-badge{
  display:inline-block;padding:2px 8px;border-radius:4px;font-size:.65rem;
  font-weight:600;letter-spacing:.04em;
}
.tier-Calibration{background:rgba(34,197,94,.12);color:var(--calibration)}
.tier-Standard{background:rgba(59,130,246,.12);color:var(--standard)}
.tier-Advanced{background:rgba(245,158,11,.12);color:var(--advanced)}
.tier-Frontier{background:rgba(239,68,68,.12);color:var(--frontier)}
.cat-Clinical{background:rgba(245,158,11,.1);color:var(--clinical)}
.cat-cfRNA{background:rgba(6,182,212,.1);color:var(--cfrna)}
.cat-Proteomics{background:rgba(236,72,153,.1);color:var(--proteomics)}
.cat-Metabolomics{background:rgba(132,204,22,.1);color:var(--metabolomics)}
.cat-Spatial{background:rgba(249,115,22,.1);color:var(--spatial)}
.cat-Microbiome{background:rgba(167,139,250,.1);color:var(--microbiome)}
.cat-Multi-Modal{background:rgba(251,191,36,.1);color:var(--multimodal)}
.cat-Cross-Tissue{background:rgba(45,212,191,.1);color:var(--crosstissue)}
.cat-Cross-Mission{background:rgba(251,146,60,.1);color:#fb923c}

/* ── CHARTS GRID ── */
.charts-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(380px,1fr));gap:24px}
.chart-card{
  background:var(--bg2);border:1px solid var(--border);border-radius:12px;padding:24px;
  position:relative;overflow:hidden;
}
.chart-card::after{
  content:'';position:absolute;top:0;left:0;right:0;height:1px;
  background:linear-gradient(90deg,transparent,var(--cfrna),transparent);opacity:.3;
}
.chart-title{
  font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Helvetica,Arial,sans-serif;
  font-size:.95rem;font-weight:600;margin-bottom:16px;color:var(--text);
}
.chart-title small{color:var(--text3);font-weight:400;font-size:.75rem}

/* ── ABLATION ── */
.ablation-insight{
  background:var(--bg3);border:1px solid var(--border2);border-radius:8px;
  padding:16px 20px;margin-top:16px;font-size:.8rem;color:var(--text2);line-height:1.7;
}
.ablation-insight strong{color:var(--cfrna)}

/* ── FOOTER ── */
footer{
  border-top:1px solid var(--border);padding:40px 0;text-align:center;
  color:var(--text3);font-size:.75rem;
}
footer a{color:var(--cfrna);text-decoration:none}
footer a:hover{text-decoration:underline}

/* ── ANIMATIONS ── */
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.fade-in{animation:fadeUp .6s ease-out both}
.d1{animation-delay:.1s}.d2{animation-delay:.2s}.d3{animation-delay:.3s}.d4{animation-delay:.4s}.d5{animation-delay:.5s}

/* ── RESPONSIVE ── */
@media(max-width:768px){
  .charts-grid{grid-template-columns:1fr}
  .stats-row{gap:8px}
  .stat-card{min-width:120px;padding:14px 18px}
  .stat-val{font-size:1.5rem}
  table{font-size:.7rem}
  th,td{padding:8px 10px}
}
</style>
</head>
<body>

<canvas id="starfield"></canvas>

<div class="wrap">

<!-- ═══════ HERO ═══════ -->
<section class="hero fade-in">
  <h1>SpaceOmicsBench</h1>
  <p class="tagline">A multi-omics AI benchmark for spaceflight biomedical data — 21 ML tasks across 9 modalities + 100-question LLM evaluation from the Inspiration4, NASA Twins, and JAXA CFE missions.</p>
  <div class="stats-row">
    <div class="stat-card d1 fade-in"><div class="stat-val">21</div><div class="stat-label">ML Tasks</div></div>
    <div class="stat-card d2 fade-in"><div class="stat-val">9</div><div class="stat-label">Modalities</div></div>
    <div class="stat-card d3 fade-in"><div class="stat-val">100</div><div class="stat-label">LLM Questions</div></div>
    <div class="stat-card d4 fade-in"><div class="stat-val">7</div><div class="stat-label">Baselines</div></div>
    <div class="stat-card d5 fade-in"><div class="stat-val">152K+</div><div class="stat-label">Total Samples</div></div>
  </div>
</section>

<!-- ═══════ BASELINE RESULTS ═══════ -->
<section id="results" class="fade-in">
  <div class="section-head">Baseline Results</div>
  <div class="section-sub">Performance across all tasks. Best score per row highlighted. E2/E3 are supplementary (extreme imbalance).</div>

  <div class="filters" id="catFilters">
    <button class="pill active" data-cat="All">All</button>
    <button class="pill" data-cat="Clinical">Clinical</button>
    <button class="pill" data-cat="cfRNA">cfRNA</button>
    <button class="pill" data-cat="Proteomics">Proteomics</button>
    <button class="pill" data-cat="Metabolomics">Metabolomics</button>
    <button class="pill" data-cat="Spatial">Spatial</button>
    <button class="pill" data-cat="Microbiome">Microbiome</button>
    <button class="pill" data-cat="Multi-Modal">Multi-Modal</button>
    <button class="pill" data-cat="Cross-Tissue">Cross-Tissue</button>
    <button class="pill" data-cat="Cross-Mission">Cross-Mission</button>
  </div>

  <div class="table-wrap">
    <table id="resultsTable">
      <thead>
        <tr>
          <th>Task</th><th>Name</th><th>Category</th><th>Tier</th><th>Metric</th>
          <th class="num">Random</th><th class="num">Majority</th>
          <th class="num">LogReg</th><th class="num">RF</th><th class="num">MLP</th><th class="num">XGB</th><th class="num">LGBM</th>
        </tr>
      </thead>
      <tbody id="tableBody"></tbody>
    </table>
  </div>
</section>

<!-- ═══════ CHARTS ═══════ -->
<section id="charts" class="fade-in">
  <div class="section-head">Performance Analysis</div>
  <div class="section-sub">Normalized composite scores, category radar, and difficulty distribution.</div>

  <div class="charts-grid">
    <div class="chart-card">
      <div class="chart-title">Normalized Composite Score <small>— (score − random) / (1 − random)</small></div>
      <canvas id="compositeChart"></canvas>
    </div>
    <div class="chart-card">
      <div class="chart-title">RF Category Performance <small>— radar view</small></div>
      <canvas id="radarChart"></canvas>
    </div>
    <div class="chart-card">
      <div class="chart-title">Difficulty Tier Distribution <small>— 21 tasks</small></div>
      <canvas id="tierChart"></canvas>
    </div>
    <div class="chart-card">
      <div class="chart-title">B1 Feature Ablation <small>— AUPRC by feature set</small></div>
      <canvas id="ablationChart"></canvas>
      <div class="ablation-insight">
        <strong>Insight:</strong> Removing effect-size features (fold-changes) preserves RF/MLP performance (0.86 AUPRC),
        confirming the task tests genuine distributional signal rather than simple effect-size thresholding.
      </div>
    </div>
  </div>
</section>

<!-- ═══════ LLM EVALUATION ═══════ -->
<section id="llm-eval" class="fade-in">
  <div class="section-head">LLM Evaluation</div>
  <div class="section-sub">100-question benchmark with 5-dimension scoring. 5 models evaluated (Claude Sonnet 4.6, Haiku 4.5, Sonnet 4, GPT-4o, GPT-4o Mini).</div>

  <div class="charts-grid">
    <div class="chart-card">
      <div class="chart-title">5-Model Ranking <small>— Sonnet 4.6 Judge, weighted score (1-5)</small></div>
      <canvas id="crossJudgeChart"></canvas>
      <div class="ablation-insight" style="margin-top:16px">
        <strong>Finding:</strong> Claude models rank 1–3. Haiku 4.5 notably outperforms Sonnet 4 (+0.36).
        GPT-4o ≈ GPT-4o Mini (3.30 each) — scale provides negligible benefit here.
      </div>
    </div>
    <div class="chart-card">
      <div class="chart-title">Dimension Breakdown <small>— Sonnet 4.6 Judge</small></div>
      <canvas id="dimensionChart"></canvas>
    </div>
  </div>
</section>

<!-- ═══════ FOOTER ═══════ -->
<footer>
  <p>SpaceOmicsBench — <a href="https://github.com/jang1563/SpaceOmicsBench" target="_blank">GitHub Repository</a> · <a href="llm_leaderboard.html">LLM Leaderboard</a></p>
  <p style="margin-top:8px">Data from NASA OSDR (public domain) and published supplementary materials (CC-BY 4.0).</p>
</footer>

</div>

<script>
// ── STARFIELD ──
(function(){
  const c=document.getElementById('starfield'),ctx=c.getContext('2d');
  let w,h,stars=[];
  function resize(){w=c.width=window.innerWidth;h=c.height=window.innerHeight}
  function init(){stars=[];for(let i=0;i<200;i++)stars.push({x:Math.random()*w,y:Math.random()*h,r:Math.random()*1.2+.2,a:Math.random()*.6+.2,s:Math.random()*.0003+.0001})}
  function draw(){
    ctx.clearRect(0,0,w,h);
    for(const s of stars){
      s.a+=Math.sin(Date.now()*s.s)*.003;
      ctx.beginPath();ctx.arc(s.x,s.y,s.r,0,Math.PI*2);
      ctx.fillStyle=`rgba(148,163,184,${Math.max(0,Math.min(1,s.a))})`;ctx.fill();
    }
    requestAnimationFrame(draw);
  }
  resize();init();draw();
  window.addEventListener('resize',()=>{resize();init()});
})();

// ── DATA ──
const TASKS=[
  {id:'A1',name:'Flight Phase Classification (Blood Panel)',cat:'Clinical',tier:'Standard',metric:'macro_f1',random:.214,majority:.200,logreg:.546,rf:.294,mlp:.310,xgb:.332,lgbm:.200},
  {id:'A2',name:'Flight Phase Classification (Immune Markers)',cat:'Clinical',tier:'Standard',metric:'macro_f1',random:.214,majority:.200,logreg:.493,rf:.374,mlp:.331,xgb:.353,lgbm:.200},
  {id:'B1',name:'Spaceflight-Responsive Gene Ranking',cat:'cfRNA',tier:'Advanced',metric:'AUPRC',random:.020,majority:.017,logreg:.533,rf:.885,mlp:.854,xgb:.912,lgbm:.922},
  {id:'B2',name:'Coregulated Gene Cluster Prediction',cat:'cfRNA',tier:'Advanced',metric:'micro_f1',random:.083,majority:.000,logreg:.154,rf:.131,mlp:.000,xgb:null,lgbm:null},
  {id:'C1',name:'Proteomics Phase Classification',cat:'Proteomics',tier:'Standard',metric:'macro_f1',random:.170,majority:.228,logreg:.512,rf:.464,mlp:.517,xgb:.355,lgbm:.228},
  {id:'C2',name:'Cross-Biofluid Protein DE Concordance',cat:'Proteomics',tier:'Frontier',metric:'AUROC',random:.529,majority:.500,logreg:.500,rf:.555,mlp:.524,xgb:.533,lgbm:.565},
  {id:'D1',name:'Metabolite Spaceflight Response',cat:'Metabolomics',tier:'Advanced',metric:'AUROC',random:.481,majority:.500,logreg:.561,rf:.676,mlp:.557,xgb:.617,lgbm:.638},
  {id:'E1',name:'Cross-Layer DE (outer_epidermis)',cat:'Spatial',tier:'Advanced',metric:'AUPRC',random:.008,majority:.002,logreg:.017,rf:.015,mlp:.003,xgb:.010,lgbm:.005},
  {id:'E4',name:'Cross-Layer DE (epidermis)',cat:'Spatial',tier:'Advanced',metric:'AUPRC',random:.003,majority:.002,logreg:.023,rf:.002,mlp:.003,xgb:.006,lgbm:.009},
  {id:'F1',name:'Body Site Classification (Taxonomy)',cat:'Microbiome',tier:'Standard',metric:'macro_f1',random:.112,majority:.018,logreg:.147,rf:.199,mlp:.108,xgb:.193,lgbm:.200},
  {id:'F2',name:'Flight Phase Detection (Taxonomy)',cat:'Microbiome',tier:'Frontier',metric:'macro_f1',random:.205,majority:.111,logreg:.236,rf:.238,mlp:.204,xgb:.263,lgbm:.280},
  {id:'F3',name:'Human vs Environmental',cat:'Microbiome',tier:'Calibration',metric:'AUROC',random:.402,majority:.500,logreg:.574,rf:.841,mlp:.320,xgb:.838,lgbm:.838},
  {id:'F4',name:'Body Site Classification (Pathways)',cat:'Microbiome',tier:'Standard',metric:'macro_f1',random:.112,majority:.018,logreg:.163,rf:.151,mlp:.096,xgb:.134,lgbm:.160},
  {id:'F5',name:'Flight Phase Detection (Pathways)',cat:'Microbiome',tier:'Frontier',metric:'macro_f1',random:.205,majority:.111,logreg:.240,rf:.254,mlp:.229,xgb:.300,lgbm:.304},
  {id:'G1',name:'Multi-Modal Phase Classification',cat:'Multi-Modal',tier:'Advanced',metric:'macro_f1',random:.253,majority:.228,logreg:.517,rf:.254,mlp:.285,xgb:.328,lgbm:.228},
  {id:'H1',name:'Cross-Tissue Gene Conservation',cat:'Cross-Tissue',tier:'Advanced',metric:'AUPRC',random:.060,majority:.048,logreg:.176,rf:.266,mlp:.062,xgb:.213,lgbm:.284},
  {id:'I1',name:'Hemoglobin Gene DE Prediction',cat:'Cross-Mission',tier:'Frontier',metric:'AUPRC',random:.003,majority:.002,logreg:.003,rf:.005,mlp:.003,xgb:.005,lgbm:.006},
  {id:'I2',name:'Cross-Mission Pathway Conservation',cat:'Cross-Mission',tier:'Advanced',metric:'AUROC',random:.504,majority:.500,logreg:.586,rf:.706,mlp:.580,xgb:.716,lgbm:.735},
  {id:'I3',name:'Cross-Mission Gene DE Conservation',cat:'Cross-Mission',tier:'Advanced',metric:'AUPRC',random:.059,majority:.052,logreg:.090,rf:.081,mlp:.090,xgb:.081,lgbm:.086},
  {id:'E2',name:'Cross-Layer DE (inner_epidermis)',cat:'Spatial',tier:'Frontier',metric:'AUPRC',random:.001,majority:.001,logreg:.031,rf:.050,mlp:.011,xgb:.020,lgbm:.005,supp:true},
  {id:'E3',name:'Cross-Layer DE (outer_dermis)',cat:'Spatial',tier:'Frontier',metric:'AUPRC',random:.002,majority:.001,logreg:.172,rf:.223,mlp:.168,xgb:.160,lgbm:.088,supp:true},
];

// ── TABLE RENDER ──
function renderTable(filter){
  const tb=document.getElementById('tableBody');
  tb.innerHTML='';
  const filtered=filter==='All'?TASKS:TASKS.filter(t=>t.cat===filter);
  for(const t of filtered){
    const scores=[t.random,t.majority,t.logreg,t.rf,t.mlp,t.xgb,t.lgbm];
    const validScores=scores.filter(v=>v!==null);
    const best=Math.max(...validScores);
    const fmt=v=>{
      if(v===null) return `<td class="num">—</td>`;
      const s=v.toFixed(3);
      return v===best?`<td class="num best">${s}</td>`:`<td class="num">${s}</td>`;
    };
    const tr=document.createElement('tr');
    if(t.supp)tr.classList.add('supplementary');
    tr.dataset.cat=t.cat;
    tr.innerHTML=`
      <td><strong>${t.id}</strong></td>
      <td>${t.name}</td>
      <td><span class="cat-badge cat-${t.cat}">${t.cat}</span></td>
      <td><span class="tier-badge tier-${t.tier}">${t.tier}</span></td>
      <td>${t.metric}</td>
      ${scores.map(fmt).join('')}
    `;
    tb.appendChild(tr);
  }
}
renderTable('All');

// ── FILTER PILLS ──
document.querySelectorAll('.pill').forEach(p=>{
  p.addEventListener('click',()=>{
    document.querySelectorAll('.pill').forEach(x=>x.classList.remove('active'));
    p.classList.add('active');
    renderTable(p.dataset.cat);
  });
});

// ── CHART DEFAULTS ──
Chart.defaults.color='#94a3b8';
Chart.defaults.borderColor='#1e2650';
Chart.defaults.font.family="'SF Mono','Fira Code',ui-monospace,monospace";
Chart.defaults.font.size=11;

// ── COMPOSITE BAR CHART ──
new Chart(document.getElementById('compositeChart'),{
  type:'bar',
  data:{
    labels:['Random Forest','XGBoost','LightGBM','Logistic Regression','MLP'],
    datasets:[{
      data:[.258,.250,.238,.201,.133],
      backgroundColor:['rgba(6,182,212,.7)','rgba(245,158,11,.7)','rgba(132,204,22,.7)','rgba(167,139,250,.7)','rgba(236,72,153,.7)'],
      borderColor:['#06b6d4','#f59e0b','#84cc16','#a78bfa','#ec4899'],
      borderWidth:1,borderRadius:6,
    }]
  },
  options:{
    indexAxis:'y',responsive:true,
    plugins:{legend:{display:false},
      tooltip:{callbacks:{label:c=>` ${c.raw.toFixed(3)}`}}
    },
    scales:{
      x:{min:0,max:.30,grid:{color:'rgba(30,38,80,.5)'},ticks:{callback:v=>v.toFixed(2)}},
      y:{grid:{display:false}}
    }
  }
});

// ── RADAR CHART ──
new Chart(document.getElementById('radarChart'),{
  type:'radar',
  data:{
    labels:['Clinical','cfRNA','Proteomics','Metabolomics','Spatial','F:BodySite','F:Phase','F:Source','MultiModal','CrossTissue','CrossMission'],
    datasets:[
      {
        label:'RF',data:[.152,.882,.205,.375,.004,.070,.052,.735,.001,.219,.144],
        backgroundColor:'rgba(6,182,212,.15)',borderColor:'#06b6d4',borderWidth:2,pointRadius:4,
        pointBackgroundColor:'#06b6d4',
      },
      {
        label:'XGBoost',data:[.163,.910,.117,.262,.002,.058,.096,.728,.100,.162,.151],
        backgroundColor:'rgba(245,158,11,.1)',borderColor:'#f59e0b',borderWidth:1.5,pointRadius:3,
        pointBackgroundColor:'#f59e0b',
      },
      {
        label:'LightGBM',data:[.000,.921,.074,.302,.003,.076,.110,.730,.000,.238,.165],
        backgroundColor:'rgba(132,204,22,.08)',borderColor:'#84cc16',borderWidth:1.5,pointRadius:3,
        pointBackgroundColor:'#84cc16',borderDash:[6,3],
      },
      {
        label:'LogReg',data:[.389,.523,.206,.154,.014,.048,.042,.288,.353,.123,.066],
        backgroundColor:'rgba(167,139,250,.08)',borderColor:'#a78bfa',borderWidth:1.5,pointRadius:3,
        pointBackgroundColor:'#a78bfa',borderDash:[4,4],
      },
      {
        label:'MLP',data:[.135,.851,.209,.147,.000,.000,.015,.000,.042,.002,.062],
        backgroundColor:'rgba(236,72,153,.05)',borderColor:'#ec4899',borderWidth:1,pointRadius:2,
        pointBackgroundColor:'#ec4899',borderDash:[2,4],
      }
    ]
  },
  options:{
    responsive:true,
    scales:{
      r:{
        min:0,max:1,
        angleLines:{color:'rgba(30,38,80,.6)'},
        grid:{color:'rgba(30,38,80,.5)'},
        pointLabels:{font:{size:10}},
        ticks:{stepSize:.2,backdropColor:'transparent',font:{size:9}}
      }
    },
    plugins:{legend:{position:'bottom',labels:{boxWidth:12,padding:12}}}
  }
});

// ── TIER DONUT ──
new Chart(document.getElementById('tierChart'),{
  type:'doughnut',
  data:{
    labels:['Calibration (1)','Standard (5)','Advanced (9)','Frontier (6)'],
    datasets:[{
      data:[1,5,9,6],
      backgroundColor:['rgba(34,197,94,.7)','rgba(59,130,246,.7)','rgba(245,158,11,.7)','rgba(239,68,68,.7)'],
      borderColor:['#22c55e','#3b82f6','#f59e0b','#ef4444'],
      borderWidth:2,hoverOffset:8,
    }]
  },
  options:{
    responsive:true,cutout:'55%',
    plugins:{
      legend:{position:'bottom',labels:{boxWidth:12,padding:14,font:{size:11}}},
      tooltip:{callbacks:{label:c=>{
        const pct=((c.raw/21)*100).toFixed(0);
        return ` ${c.label}: ${pct}%`;
      }}}
    }
  }
});

// ── ABLATION GROUPED BAR ──
new Chart(document.getElementById('ablationChart'),{
  type:'bar',
  data:{
    labels:['LogReg','RF','MLP','XGBoost','LightGBM'],
    datasets:[
      {label:'All features',data:[.533,.885,.854,.912,.922],backgroundColor:'rgba(6,182,212,.7)',borderColor:'#06b6d4',borderWidth:1,borderRadius:4},
      {label:'Effect-only',data:[.248,.813,.741,.780,.801],backgroundColor:'rgba(245,158,11,.7)',borderColor:'#f59e0b',borderWidth:1,borderRadius:4},
      {label:'No effect-size',data:[.527,.863,.847,.899,.884],backgroundColor:'rgba(167,139,250,.7)',borderColor:'#a78bfa',borderWidth:1,borderRadius:4},
    ]
  },
  options:{
    responsive:true,
    plugins:{legend:{position:'bottom',labels:{boxWidth:12,padding:12}}},
    scales:{
      y:{min:0,max:1,grid:{color:'rgba(30,38,80,.5)'},ticks:{callback:v=>v.toFixed(1)}},
      x:{grid:{display:false}}
    }
  }
});

// ── 5-MODEL RANKING BAR CHART (Sonnet 4.6 Judge) ──
new Chart(document.getElementById('crossJudgeChart'),{
  type:'bar',
  data:{
    labels:['Sonnet 4.6','Haiku 4.5','Sonnet 4','GPT-4o','GPT-4o Mini'],
    datasets:[
      {
        label:'Weighted Score (Sonnet 4.6 Judge)',
        data:[4.60,4.39,4.03,3.30,3.30],
        backgroundColor:[
          'rgba(236,72,153,.75)',
          'rgba(167,139,250,.75)',
          'rgba(6,182,212,.75)',
          'rgba(245,158,11,.75)',
          'rgba(251,191,36,.75)',
        ],
        borderColor:['#ec4899','#a78bfa','#06b6d4','#f59e0b','#fbbf24'],
        borderWidth:1,borderRadius:4
      }
    ]
  },
  options:{
    responsive:true,
    plugins:{legend:{display:false}},
    scales:{
      y:{min:2.5,max:5,grid:{color:'rgba(30,38,80,.5)'},ticks:{callback:v=>v.toFixed(1)}},
      x:{grid:{display:false}}
    }
  }
});

// ── DIMENSION BREAKDOWN RADAR (Sonnet 4.6 Judge) ──
new Chart(document.getElementById('dimensionChart'),{
  type:'radar',
  data:{
    labels:['Factual\nAccuracy','Reasoning\nQuality','Completeness','Uncertainty\nCalibration','Domain\nIntegration'],
    datasets:[
      {
        label:'Sonnet 4.6',data:[4.59,4.96,4.73,4.09,4.33],
        backgroundColor:'rgba(236,72,153,.12)',borderColor:'#ec4899',borderWidth:2,pointRadius:4,
        pointBackgroundColor:'#ec4899',
      },
      {
        label:'Haiku 4.5',data:[4.35,4.84,4.53,3.82,4.12],
        backgroundColor:'rgba(167,139,250,.10)',borderColor:'#a78bfa',borderWidth:2,pointRadius:4,
        pointBackgroundColor:'#a78bfa',
      },
      {
        label:'Sonnet 4',data:[4.26,4.47,4.07,3.14,3.74],
        backgroundColor:'rgba(6,182,212,.10)',borderColor:'#06b6d4',borderWidth:2,pointRadius:4,
        pointBackgroundColor:'#06b6d4',
      },
      {
        label:'GPT-4o',data:[3.98,3.60,3.13,2.57,2.63],
        backgroundColor:'rgba(245,158,11,.06)',borderColor:'#f59e0b',borderWidth:2,pointRadius:4,
        pointBackgroundColor:'#f59e0b',
      },
      {
        label:'GPT-4o Mini',data:[3.91,3.51,3.19,2.75,2.63],
        backgroundColor:'rgba(251,191,36,.06)',borderColor:'#fbbf24',borderWidth:1.5,pointRadius:3,
        pointBackgroundColor:'#fbbf24',borderDash:[4,3],
      }
    ]
  },
  options:{
    responsive:true,
    scales:{
      r:{
        min:1,max:5,
        angleLines:{color:'rgba(30,38,80,.6)'},
        grid:{color:'rgba(30,38,80,.5)'},
        pointLabels:{font:{size:10}},
        ticks:{stepSize:1,backdropColor:'transparent',font:{size:9}}
      }
    },
    plugins:{legend:{position:'bottom',labels:{boxWidth:12,padding:12}}}
  }
});
</script>
</body>
</html>
